!function(){"use strict";angular.module("MusicSearch",["angular-loading-bar","ngAnimate","ngSanitize","ui.router","ngStorage","ngFx","ui.bootstrap"])}(),function(){"use strict";angular.module("MusicSearch").config(["cfpLoadingBarProvider",function(t){}]).constant("Constants",{DEFAULT_DEBOUNCE_TIME:800,DEFAULT_TYPEHEAD_ITEM:6})}(),function(){"use strict";function t(t){var e="https://api.spotify.com";return{ENDPOINT:e,searchTypes:["album","artist","playlist","track"],search:function(i,a,r,n){n=n||20,r=r||0,a+="*";var s={limit:n,offset:r,q:a,type:i.join(",")};return t.get(e+"/v1/search",{params:s})},getAlbums:function(i){var a=e+"/v1/artists/"+i+"/albums?limit=15";return t.get(a)}}}angular.module("MusicSearch").factory("Spotify",t),t.$inject=["$http"]}(),function(){"use strict";function t(){return{restrict:"E",scope:{data:"=",currentPage:"="},templateUrl:"views/directives/albums.directive.html",controller:e}}function e(t){t.currentPage=t.data.offset+t.data.items.length,console.log("album directive",t.data)}angular.module("MusicSearch").directive("albums",t),e.$inject=["$scope"]}(),function(){"use strict";function t(){return{restrict:"E",scope:{data:"=",currentPage:"="},templateUrl:"views/directives/artists.directive.html",controller:e}}function e(t,e){function a(t){e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"artist.album.html",controller:i,controllerAs:"artistAlbumCtrl",size:"lg",backdrop:!1,resolve:{artist:t}})}t.currentPage=t.data.offset+t.data.items.length,console.log("artist directive",t.data),t.openAlbums=a}function i(t,e,i){function a(){e.dismiss("cancel")}var r=this;r.artist=t,r.loading=!1,r.cancel=a,r.albums={},function(){r.loading=!0,i.getAlbums(r.artist.id).then(function(t){r.loading=!1,console.log(t),r.albums=t.data},function(t){console.error(t),r.loading=!1})}()}angular.module("MusicSearch").directive("artists",t),e.$inject=["$scope","$uibModal"],i.$inject=["artist","$uibModalInstance","Spotify"]}(),function(){"use strict";function t(t,e,i,a){function r(t,e){console.log(t,c.selected_filter.indexOf(e)),t?c.selected_filter.push(e):c.selected_filter.splice(c.selected_filter.indexOf(e),1)}function n(t){if(t)return e.search(["album"],t,0,i.DEFAULT_TYPEHEAD_ITEM).then(function(t){return t.data.albums.items.map(function(t){return{name:t.name,image:t.images[2]}})})}function s(t){t&&""!==t&&(c.searching=!0,e.search(c.selected_filter,t).then(function(t){c.searching=!1,console.log(t),angular.forEach(c.search_result,function(e,i){c.search_result[i]=t.data[i]})},function(t){console.error(t),c.searching=!1}))}var c=this;console.log("am here"),c.selected_filter=["artist","album"],c.search_types=e.searchTypes,c.updateSelectedTypes=r,c.search=s,c.searching=!1,c.getSuggestion=n,c.search_result={albums:void 0,artists:void 0,playlists:void 0,tracks:void 0}}angular.module("MusicSearch").controller("MainController",t),t.$inject=["$scope","Spotify","Constants","$timeout"]}();